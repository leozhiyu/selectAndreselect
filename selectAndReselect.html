<!DOCTYPE html>
<html>
<head>
<title></title>
<script src="jquery-3.2.1.min.js"></script>
<script>
   $(function(){
        //页面打开将‘全不选’隐藏
        $('.deselectAll').hide();

        //对全选框进行判断
        $('.selectAll>input').click(function(){
            if($('.selectAll>input').prop("checked")){
                selectAll();
                $("[name='lang']").prop("checked",true);
            }else{
                deselectAll();
                $("[name='lang']").prop("checked",false);
            }
        });

        //对反选按钮进行判断
        $(".invertSelect").click(function(){
            var langs = $("[name='lang']");
            for(var i=0;i<langs.length;i++){
                if (langs[i].checked) {
                    langs[i].checked = false;
                }else{
                    langs[i].checked = true;
                }
            }
            allSubSelected();
        });

        //每次单击某个语言进行判断是否选择了所有语言
        $("[name='lang']").click(function(){
           allSubSelected();
        });

        //全选按钮选中
        function selectAll(){
            $('.selectAll>input').prop("checked",true);
            $('.selectAll>span').hide();
            $('.deselectAll').show();
        }

        //全不选按钮选中
        function deselectAll(){
            $('.selectAll>input').prop("checked",false);
            $('.selectAll>span').show();
            $('.deselectAll').hide();
        }

        //所有语言选中，将全选选中
        function allSubSelected(){
            var checklength = $("[name='lang']:checked").length;
            if(checklength == 5){
                selectAll();
            }else{
                deselectAll();
            }
        }
        
   });
</script>
</head>
<body>
    <!-- HTML结构 -->
<form id="test-form" action="test">
    <legend>请选择想要学习的编程语言：</legend>
    <fieldset>
        <p><label class="selectAll"><input type="checkbox"> <span class="selectAll">全选</span><span class="deselectAll">全不选</span></label> <a href="#0" class="invertSelect">反选</a></p>

        <p><label><input type="checkbox" name="lang" value="javascript"> JavaScript</label></p>

        <p><label><input type="checkbox" name="lang" value="python"> Python</label></p>

        <p><label><input type="checkbox" name="lang" value="ruby"> Ruby</label></p>

        <p><label><input type="checkbox" name="lang" value="haskell"> Haskell</label></p>

        <p><label><input type="checkbox" name="lang" value="scheme"> Scheme</label></p>
    </fieldset>
</form>
</body>
</html>